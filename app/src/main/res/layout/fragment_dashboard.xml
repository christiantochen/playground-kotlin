<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:tools="http://schemas.android.com/tools"
        xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:app="http://schemas.android.com/apk/res-auto">

    <data>
        <import type="java.lang.Integer" />
        <variable
                name="viewModel"
                type="com.christiantochen.learnkotlin.ui.dashboard.DashboardViewModel"/>
    </data>

    <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content">

        <!-- USER OVERVIEW CARD -->
        <androidx.cardview.widget.CardView
                android:id="@+id/user_overview_card"
                android:layout_width="match_parent"
                android:layout_height="160dp"
                style="@style/CardViewStyle"
                android:background="@android:color/white"
                android:layout_marginTop="80dp"
                app:layout_constraintTop_toTopOf="parent"
                app:layout_constraintLeft_toRightOf="parent"
                app:layout_constraintRight_toLeftOf="parent">
            <LinearLayout android:layout_width="match_parent"
                          android:layout_height="match_parent"
                          android:padding="24dp"
                          android:orientation="vertical">
                <!-- USER PROFILE -->
                <LinearLayout android:layout_width="match_parent"
                              android:layout_height="wrap_content"
                              android:orientation="horizontal">
                    <ImageView android:layout_width="48dp"
                               android:layout_height="48dp"
                               app:imageUrl="@{viewModel.user.info.display_image}"/>
                    <LinearLayout android:layout_width="match_parent"
                                  android:layout_height="48dp"
                                  android:orientation="vertical"
                                  android:layout_marginHorizontal="24dp">
                        <TextView android:id="@+id/fullname_text_view"
                                  android:layout_width="match_parent"
                                  android:layout_height="24dp"
                                  android:textSize="16dp"
                                  android:textStyle="bold"
                                  android:text="@{viewModel.user.info.full_name}"/>
                        <TextView android:id="@+id/rolename_text_view"
                                  android:layout_width="match_parent"
                                  android:layout_height="24dp"
                                  android:textSize="16dp"
                                  android:textColor="@color/colorTextGray"
                                  android:text="@{viewModel.user.info.position_name}"/>
                    </LinearLayout>
                </LinearLayout>
                <!-- END OF USER PROFILE -->
                <!-- TASK OVERVIEW & SEEKBAR -->
                <LinearLayout android:layout_width="match_parent"
                              android:layout_height="wrap_content"
                              android:layout_marginTop="20dp">
                    <TextView android:layout_width="wrap_content"
                              android:layout_height="wrap_content"
                              android:layout_marginRight="4dp"
                              android:textSize="16dp"
                              android:textStyle="bold"
                              android:text="@{viewModel.user.task_progress}"/>
                    <TextView android:layout_width="wrap_content"
                              android:layout_height="wrap_content"
                              android:layout_weight="1"
                              android:textColor="@color/colorTextGray"
                              android:textSize="14dp"
                              android:text="Task Completed"/>
                    <TextView android:layout_width="wrap_content"
                              android:layout_height="wrap_content"
                              android:text="@{@string/seekbar_value(viewModel.user.task_completed,viewModel.user.task_count)}"/>
                </LinearLayout>
                <SeekBar android:id="@+id/task_overview_seekbar"
                         android:layout_width="match_parent"
                         android:layout_height="8dp"
                         android:layout_marginTop="12dp"
                         android:paddingStart="0dp"
                         android:paddingEnd="0dp"
                         android:progressDrawable="@drawable/seekbar"
                         android:thumbTint="@android:color/transparent"
                         android:thumb="@android:color/transparent"
                         android:clickable="false"
                         android:contextClickable="false"
                         android:max="@{viewModel.user.task_count}"
                         android:progress="@{viewModel.user.task_completed}"/>
                <!-- END OF TASK OVERVIEW & SEEKBAR -->
            </LinearLayout>
        </androidx.cardview.widget.CardView>
        <!-- END OF USER OVERVIEW CARD -->

        <!-- CURRENT TASK CARD -->
        <androidx.cardview.widget.CardView
                android:id="@+id/current_task_card"
                android:layout_width="match_parent"
                android:layout_height="80dp"
                style="@style/SelectableCardViewStyle"
                android:background="@android:color/white"
                android:layout_marginTop="12dp"
                app:layout_constraintTop_toBottomOf="@id/user_overview_card"
                app:layout_constraintLeft_toRightOf="parent"
                app:layout_constraintRight_toLeftOf="parent">
            <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:background="@android:color/white"
                    android:paddingVertical="16dp"
                    android:paddingHorizontal="24dp"
                    android:orientation="vertical">
                <LinearLayout android:layout_width="match_parent"
                              android:layout_height="wrap_content">
                    <TextView android:layout_width="wrap_content"
                              android:layout_height="match_parent"
                              android:layout_gravity="center"
                              android:gravity="center"
                              android:text="Current Task"
                              android:textColor="@android:color/black"
                              android:textSize="16dp"
                              android:textStyle="bold"/>
                    <TextView android:layout_width="wrap_content"
                              android:layout_height="wrap_content"
                              android:background="@drawable/badge_circle"
                              android:layout_marginLeft="4dp"
                              android:textColor="@android:color/white"
                              android:textSize="10dp"
                              android:text="@{Integer.toString(viewModel.user.task_current)}"
                              android:visibility="@{viewModel.user.has_task}"/>
                </LinearLayout>
                <LinearLayout android:layout_width="match_parent"
                              android:layout_height="wrap_content">
                    <TextView android:layout_width="wrap_content"
                              android:layout_height="wrap_content"
                              android:layout_gravity="center"
                              android:text="You can choose and pick new task"
                              android:textSize="14dp"
                              android:textColor="@color/colorTextGray"
                              android:layout_weight="1"/>
                    <ImageButton
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:layout_gravity="center"
                            android:background="@drawable/right_arrow_white_18"
                            android:backgroundTint="@color/colorAccent"/>
                </LinearLayout>
            </LinearLayout>
        </androidx.cardview.widget.CardView>
        <!-- END OF CURRENT TASK CARD -->

        <androidx.cardview.widget.CardView
                android:id="@+id/pick_task_card"
                android:layout_width="match_parent"
                android:layout_height="80dp"
                style="@style/SelectableCardViewStyle"
                android:layout_marginTop="12dp"
                app:layout_constraintTop_toBottomOf="@id/current_task_card"
                app:layout_constraintLeft_toRightOf="parent"
                app:layout_constraintRight_toLeftOf="parent">
            <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:background="@drawable/toolbar_background"
                    android:paddingVertical="16dp"
                    android:paddingHorizontal="24dp"
                    android:orientation="vertical">
                <LinearLayout android:layout_width="match_parent"
                              android:layout_height="wrap_content">
                    <TextView android:layout_width="wrap_content"
                              android:layout_height="match_parent"
                              android:layout_gravity="center"
                              android:gravity="center"
                              android:text="Pick New Task"
                              android:textColor="@android:color/white"
                              android:textSize="16dp"
                              android:textStyle="bold"/>
                    <TextView android:layout_width="wrap_content"
                              android:layout_height="wrap_content"
                              android:background="@drawable/badge_circle"
                              android:layout_marginLeft="4dp"
                              android:visibility="gone"
                              android:textColor="@android:color/white"
                              android:textSize="10dp"
                              android:text="10"/>
                </LinearLayout>
                <LinearLayout android:layout_width="match_parent"
                              android:layout_height="wrap_content">
                    <TextView android:layout_width="wrap_content"
                              android:layout_height="wrap_content"
                              android:layout_gravity="center"
                              android:text="You can choose and pick new task"
                              android:textSize="14dp"
                              android:textColor="@color/colorTextLightGray"
                              android:layout_weight="1"/>
                    <ImageButton
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:layout_gravity="center"
                            android:background="@drawable/right_arrow_white_18"
                            android:backgroundTint="@android:color/white"/>
                </LinearLayout>
            </LinearLayout>
        </androidx.cardview.widget.CardView>
    </androidx.constraintlayout.widget.ConstraintLayout>
</layout>
